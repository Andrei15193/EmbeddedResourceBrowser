<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>EmbeddedResourceBrowser 2.0.0</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
    <link rel="stylesheet" href="Style.css" />
</head>
<body class="d-flex flex-column">
    <div>
        <div class="d-flex flex-row align-items-center container px-2 pt-2">
            <h1 class="flex-grow-1 flex-shrink-1">EmbeddedResourceBrowser <small>2.0.0</small></h1>
            <a class="btn btn-link" href="https://github.com/Andrei15193/EmbeddedResourceBrowser">View on GitHub</a>
            <a class="btn btn-link" href="https://www.nuget.org/packages/EmbeddedResourceBrowser/2.0.0">View on NuGet</a>
        </div>

        <hr />
    </div>

    <div class="flex-grow-1 flex-shrink-1">
        <div class="d-flex flex-column container px-2 pt-2">
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item active" aria-current="page">EmbeddedResourceBrowser</li>
    </ol>
</nav>

<h2>EmbeddedResourceBrowser</h2>

<p>A small utility library for browsing the embedded resources of an assembly.
</p>

<h3>Declared Types</h3>
<table class="table table-hover">
    <thead>
        <tr>
            <th>Name</th>
            <th class="w-75">Summary</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><a href="EmbeddedResourceBrowser.EmbeddedDirectory.html">EmbeddedDirectory</a></td>
            <td><p>Represents a directory of embedded resources.
</p>
</td>
        </tr>
        <tr>
            <td><a href="EmbeddedResourceBrowser.EmbeddedFile.html">EmbeddedFile</a></td>
            <td><p>Represents an embedded file.
</p>
</td>
        </tr>
        <tr>
            <td><a href="EmbeddedResourceBrowser.FileSystemInfoExtensions.html">FileSystemInfoExtensions</a></td>
            <td><p>Exposes extension methods for <a href="EmbeddedResourceBrowser.EmbeddedDirectory.html">EmbeddedDirectory</a> and <a href="EmbeddedResourceBrowser.EmbeddedFile.html">EmbeddedFile</a> objects for usage with <a href="https://docs.microsoft.com/dotnet/api/System.IO.DirectoryInfo?view=netstandard-1.6">DirectoryInfo</a> and <a href="https://docs.microsoft.com/dotnet/api/System.IO.FileInfo?view=netstandard-1.6">FileInfo</a>.
</p>
</td>
        </tr>
        <tr>
            <td><a href="EmbeddedResourceBrowser.NamedReadOnlyList`1.html">NamedReadOnlyList&lt;T&gt;</a></td>
            <td><p>An <a href="https://docs.microsoft.com/dotnet/api/System.Collections.Generic.IReadOnlyList-1?view=netstandard-1.6">IReadOnlyList</a>&lt;T&gt; containing elements that can be accessed by their name.
</p>
</td>
        </tr>
    </tbody>
</table>

<h3>Remarks</h3>
<p>The library is rather small and provides a directory-like structure for browsing embedded resources. You can load resources in multiple ways depending on how you wish to use them in your application. Before detailing each approach it is important to note that embedded resources in .NET assemblies use the <code>.</code> character as a separator for directories. This can be a bit confusing because we can add the <code>.</code> in the name of a directory or a file and there will be absolutely no difference of having a directory structure or using <code>.</code> in the name. For instance the following two resources are identical and the compiler will issue an error indicating this.
</p>
<pre><code>Assembly/
    Directory/
        embedded file.txt
    Directory.embedded file.txt

Both resources are embedded (by default) with the following logical name:
Assembly.Directory.embedded file.txt</pre></code>
<p>If you wish, you can provide a custom logical name for your embedded resource, keep in mind that you need to specify this manually. For instance, you can use <code>/</code> as a separator by specifying the logical name of an embedded resource. For more information refer to: <a href="https://docs.microsoft.com/visualstudio/msbuild/common-msbuild-project-items?view=vs-2019#embeddedresource">Common MSBuild project items - EmbeddedResource</a>.
</p>
<div class="highlight" ><pre style="; " ><span class="p">&lt;</span><span class=""></span><span class="nt">EmbeddedResource</span><span class=""> </span><span class="na">Include</span><span class="o">=</span><span class=""></span><span class="s">&quot;Directory.embedded file.txt&quot;</span><span class=""> </span><span class="na">LogicalName</span><span class="o">=</span><span class=""></span><span class="s">&quot;Directory/embedded file.txt&quot;</span><span class="p">/</span><span class=""></span><span class="p">&gt;</span>
</pre></div>

<p>Implicitly, the library uses the <code>.</code> character as a separator for directories in the remained of the name. The remained of the name is determined by removing the assembly name from the beginning of the embedded resource name (which can contain <code>.</code> characters because the assembly name is available through the assembly object from which resources are being loaded) and removing the file name which contains exactly one <code>.</code> character which delimits the extension. For instance, the following resource <code>My.Assembly.Name.One.Two.Three.File.Extension</code> has the <code>One.Two.Three</code> name remained because the assembly name is <code>My.Assembly.Name</code> and the file name is <code>File.Extension</code>. The default separator for splitting the directory path from the remained is <code>.</code> leading to the following structure: <code>My.Assembly.Name/One/Two/Three/File.Extension</code>.
</p>
<h4>Working With One Assembly</h4>


<p>Generally you may be working with just one assembly from where you load embedded resources. In this case initialize a new <a href="EmbeddedResourceBrowser.EmbeddedDirectory.html">EmbeddedDirectory</a> by passing the assembly object containing the embedded resources to the constructor. This will load all resources in a directory tree where the root is the directory having the same name as the assembly name and all resources can be browsed, and loaded, from there. The following method will concatenate the contents of each embedded file at the top level of the assembly.
</p>
<div class="highlight" ><pre style="; " ><span class="kt">string</span><span class=""> </span><span class="nf">ConcatResources</span><span class=""></span><span class="p">()</span><span class=""></span>
<span class=""></span><span class="p">{</span><span class=""></span>
<span class="">    </span><span class="kt">var</span><span class=""> </span><span class="n">embeddedDirectory</span><span class=""> </span><span class="p">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="n">EmbeddedDirectory</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">ACustomType</span><span class="p">).</span><span class="n">Assembly</span><span class="p">);</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kt">var</span><span class=""> </span><span class="n">resultBuilder</span><span class=""> </span><span class="p">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="n">StringBuilder</span><span class="p">();</span><span class=""></span>
<span class="">    </span><span class="k">foreach</span><span class=""> </span><span class="p">(</span><span class="kt">var</span><span class=""> </span><span class="n">file</span><span class=""> </span><span class="k">in</span><span class=""> </span><span class="n">embeddedDirectory</span><span class="p">.</span><span class="n">Files</span><span class="p">)</span><span class=""></span>
<span class="">        </span><span class="k">using</span><span class=""> </span><span class="p">(</span><span class="kt">var</span><span class=""> </span><span class="n">streamReader</span><span class=""> </span><span class="p">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="n">StreamReader</span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="n">OpenRead</span><span class="p">()))</span><span class=""></span>
<span class="">            </span><span class="n">resultBuilder</span><span class="p">.</span><span class="n">AppendLine</span><span class="p">(</span><span class="n">streamReader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">());</span><span class=""></span>
<span class="">    </span><span class="k">return</span><span class=""> </span><span class="n">resultBuilder</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span><span class=""></span>
<span class=""></span><span class="p">}</span>
</pre></div>

<h4>Working With Multiple Assemblies</h4>


<p>Sometimes the project can be rather complex and embedded resources are placed in multiple assemblies. In this case an <a href="EmbeddedResourceBrowser.EmbeddedDirectory.html">EmbeddedDirectory</a> can be created by providing all assemblies as constructor arguments which in turn will create a root directory containing a subdirectory for each provided assembly that have the same structure at in the working with one assembly scenario. The following method will concatenate the contents of each embedded file at the top level of each assembly, but also append the assembly name from where files are being read.
</p>
<div class="highlight" ><pre style="; " ><span class="kt">string</span><span class=""> </span><span class="nf">ConcatResources</span><span class=""></span><span class="p">()</span><span class=""></span>
<span class=""></span><span class="p">{</span><span class=""></span>
<span class="">    </span><span class="kt">var</span><span class=""> </span><span class="n">embeddedDirectory</span><span class=""> </span><span class="p">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="n">EmbeddedDirectory</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">ACustomTypeFromAssembly1</span><span class="p">).</span><span class="n">Assembly</span><span class="p">,</span><span class=""> </span><span class="k">typeof</span><span class="p">(</span><span class="n">ACustomTypeFromAssembly2</span><span class="p">).</span><span class="n">Assembly</span><span class="p">);</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kt">var</span><span class=""> </span><span class="n">resultBuilder</span><span class=""> </span><span class="p">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="n">StringBuilder</span><span class="p">();</span><span class=""></span>
<span class="">    </span><span class="k">foreach</span><span class=""> </span><span class="p">(</span><span class="kt">var</span><span class=""> </span><span class="n">assemblyDirectory</span><span class=""> </span><span class="k">in</span><span class=""> </span><span class="n">embeddedDirectory</span><span class="p">.</span><span class="n">Subdirectories</span><span class="p">)</span><span class=""></span>
<span class="">    </span><span class="p">{</span><span class=""></span>
<span class="">        </span><span class="n">resultBuilder</span><span class="p">.</span><span class="n">AppendLine</span><span class="p">(</span><span class="n">assemblyDirectory</span><span class="p">.</span><span class="n">Name</span><span class="p">);</span><span class=""></span>
<span class="">        </span><span class="n">resultBuilder</span><span class="p">.</span><span class="n">AppendLine</span><span class="p">(</span><span class="k">new</span><span class=""> </span><span class="kt">string</span><span class="p">(</span><span class="sc">&#39;-&#39;</span><span class="p">,</span><span class=""> </span><span class="m">80</span><span class="p">));</span><span class=""></span>
<span class="">        </span><span class="k">foreach</span><span class=""> </span><span class="p">(</span><span class="kt">var</span><span class=""> </span><span class="n">file</span><span class=""> </span><span class="k">in</span><span class=""> </span><span class="n">embeddedDirectory</span><span class="p">.</span><span class="n">Files</span><span class="p">)</span><span class=""></span>
<span class="">            </span><span class="k">using</span><span class=""> </span><span class="p">(</span><span class="kt">var</span><span class=""> </span><span class="n">streamReader</span><span class=""> </span><span class="p">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="n">StreamReader</span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="n">OpenRead</span><span class="p">()))</span><span class=""></span>
<span class="">                </span><span class="n">resultBuilder</span><span class="p">.</span><span class="n">AppendLine</span><span class="p">(</span><span class="n">streamReader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">());</span><span class=""></span>
<span class="">    </span><span class="p">}</span><span class=""></span>
<span class="">    </span><span class="k">return</span><span class=""> </span><span class="n">resultBuilder</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span><span class=""></span>
<span class=""></span><span class="p">}</span>
</pre></div>

<p>This works well with pattern matching. To find different file or directory structures you can use the <a href="EmbeddedResourceBrowser.EmbeddedDirectory.GetAllFiles.html">GetAllFiles</a>() and <a href="EmbeddedResourceBrowser.EmbeddedDirectory.GetAllSubdirectories.html">GetAllSubdirectories</a>() methods to get all files/directories and use <a href="https://docs.microsoft.com/dotnet/csharp/programming-guide/concepts/linq">LINQ</a> to match different structures.
</p>
<h4>Working With Multiple Assemblies (Merge Method)</h4>


<p>A different scenario when working with multiple assemblies is when we want to have resources that are placed in multiple assemblies, but instead of leading each of them we want to have a precedence between them, so even though we have multiple assemblies with embedded resources, we want to provide an implicit set that can be overriden in other assemblies. For instance, I would like to provide a default set of embedded resources that can be overridden by users of my library.
</p>
<p>Given the following structure of embedded directories, I can override any of these resources (or add) from a different assembly using the <a href="EmbeddedResourceBrowser.EmbeddedDirectory.Merge.html">Merge</a>(<a href="https://docs.microsoft.com/dotnet/api/System.Collections.Generic.IEnumerable-1?view=netstandard-1.6">IEnumerable</a>&lt;<a href="https://docs.microsoft.com/dotnet/api/System.Reflection.Assembly?view=netstandard-1.6">Assembly</a>&gt;) method.
</p>
<pre><code>MyAssembly/
    Directory1/
        File 1.txt
        File 2.txt
    Directory2/
        File 1.txt</pre></code>
<p>This would be the default set of resources, now, when loading mapping resources from multiple assemblies using the <a href="EmbeddedResourceBrowser.EmbeddedDirectory.Merge.html">Merge</a>(<a href="https://docs.microsoft.com/dotnet/api/System.Collections.Generic.IEnumerable-1?view=netstandard-1.6">IEnumerable</a>&lt;<a href="https://docs.microsoft.com/dotnet/api/System.Reflection.Assembly?view=netstandard-1.6">Assembly</a>&gt;) method some of these resources can be overridden and a few more resources can be added to the set. Having a second assembly with the following structure will create an <a href="EmbeddedResourceBrowser.EmbeddedDirectory.html">EmbeddedDirectory</a> with resources from both assemblies.
</p>
<pre><code>OtherAssembly/
    Directory1/
        File 2.txt
        File 3.txt
    Directory3/
        File 1.txt</pre></code>
<p>The resulting structure will be the following, note that the root directory, or any directory, does not have the assembly name anymore since directories can contain resources from mixed assemblies.
</p>
<pre><code>/
    Directory1/
        File 1.txt (from MyAssembly)
        File 2.txt (from OtherAssembly, matching resource names)
        File 3.txt (from OtherAssembly)
    Directory2/
        File 1.txt (from MyAssembly)
    Directory3/
        File 1.txt (from OtherAssembly)</pre></code>
<p>To create an <a href="EmbeddedResourceBrowser.EmbeddedDirectory.html">EmbeddedDirectory</a> using the <a href="EmbeddedResourceBrowser.EmbeddedDirectory.Merge.html">Merge</a>(<a href="https://docs.microsoft.com/dotnet/api/System.Collections.Generic.IEnumerable-1?view=netstandard-1.6">IEnumerable</a>&lt;<a href="https://docs.microsoft.com/dotnet/api/System.Reflection.Assembly?view=netstandard-1.6">Assembly</a>&gt;) method simply call the static method instead of calling the constructor.
</p>
<div class="highlight" ><pre style="; " ><span class="kt">string</span><span class=""> </span><span class="nf">ConcatResources</span><span class=""></span><span class="p">()</span><span class=""></span>
<span class=""></span><span class="p">{</span><span class=""></span>
<span class="">    </span><span class="kt">var</span><span class=""> </span><span class="n">embeddedDirectory</span><span class=""> </span><span class="p">=</span><span class=""> </span><span class="n">EmbeddedDirectory</span><span class="p">.</span><span class="n">Merge</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">ACustomTypeFromAssembly1</span><span class="p">).</span><span class="n">Assembly</span><span class="p">,</span><span class=""> </span><span class="k">typeof</span><span class="p">(</span><span class="n">ACustomTypeFromAssembly2</span><span class="p">).</span><span class="n">Assembly</span><span class="p">);</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kt">var</span><span class=""> </span><span class="n">resultBuilder</span><span class=""> </span><span class="p">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="n">StringBuilder</span><span class="p">();</span><span class=""></span>
<span class="">    </span><span class="k">foreach</span><span class=""> </span><span class="p">(</span><span class="kt">var</span><span class=""> </span><span class="n">file</span><span class=""> </span><span class="k">in</span><span class=""> </span><span class="n">embeddedDirectory</span><span class="p">.</span><span class="n">Files</span><span class="p">)</span><span class=""></span>
<span class="">        </span><span class="k">using</span><span class=""> </span><span class="p">(</span><span class="kt">var</span><span class=""> </span><span class="n">streamReader</span><span class=""> </span><span class="p">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="n">StreamReader</span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="n">OpenRead</span><span class="p">()))</span><span class=""></span>
<span class="">            </span><span class="n">resultBuilder</span><span class="p">.</span><span class="n">AppendLine</span><span class="p">(</span><span class="n">streamReader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">());</span><span class=""></span>
<span class="">    </span><span class="k">return</span><span class=""> </span><span class="n">resultBuilder</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span><span class=""></span>
<span class=""></span><span class="p">}</span>
</pre></div>


        </div>
    </div>

    <div>
        <hr />

        <div class="d-flex flex-column container px-2">
            <p class="text-center">
                <a href="https://github.com/Andrei15193/EmbeddedResourceBrowser/releases/tag/2.0.0">EmbeddedResourceBrowser 2.0.0</a>
                -
                <a href="https://github.com/Andrei15193/EmbeddedResourceBrowser">View on GitHub</a>
                -
                <a href="https://www.nuget.org/packages/EmbeddedResourceBrowser/2.0.0">View on NuGet</a>
            </p>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</body>
</html>